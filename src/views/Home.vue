<template>
  <!-- Navbar -->
  <Navbar />

  <!-- Hero section -->
  <Section id="hero">
    <div class="isolate pt-32 pb-16">
      <div class="flex items-center h-full mx-auto container max-w-7xl">
        <div class="flex-1 flex flex-col gap-6">
          <Text type="subtitle" class="font-bold uppercase">üëã, je suis</Text>
          <p class="text-blue-500 dark:text-blue-700 leading-normal font-extrabold tracking-tight text-7xl lg:text-8xl">Guillaume</p>
          <p class="text-blue-500 dark:text-gray-200 leading-normal font-extrabold tracking-tight text-5xl lg:text-7xl">Cazin</p>
          <Text type="subtitle" class="font-bold uppercase">
            Un freelance <span class="element text-blue-500 dark:text-blue-600">{{ typed }}</span>
          </Text>
          <Button is-link to="cv">Voir mon cv</Button>
        </div>
        <div class="relative text-center hidden lg:block">
          <img src="/images/misc/blob-tear.svg" class="w-40 absolute -bottom-12 -left-10 -z-10" alt="Background">
          <img src="/images/misc/avatar.png" class="m-auto bg-gray-50 dark:bg-gray-900 w-80 rounded-tl-3xl rounded-br-3xl" alt="Avatar">
          <img src="/images/misc/blob-tear.svg" class="w-40 absolute -top-12 -right-10 -z-10" alt="Background">
        </div>
      </div>
    </div>
  </Section>

  <!-- √Ä propos -->
  <Section
      id="introduction"
      heading="Introduction"
      title="üëã Bonjour !"
      subtitle="D√©veloppeur full-stack bas√© √† Boulogne-sur-Mer" has-background
  >
    <div class="text-center">
      <div class="lg:flex lg:flex-col gap-4 m-auto text-justify">
        <div class="flex-1 mb-4">
          <Text>
            Je m'appelle Guillaume et je suis <span class="font-bold">d√©veloppeur web freelance</span> avec 2 ans d'exp√©rience en entreprise.
          </Text>
          <Text>
            <span class="font-bold">Passion√© et autodidacte depuis plus de 12 ans dans le d√©veloppement web</span>,
            je me suis sp√©cialis√© en PHP, et plus sp√©cifiquement avec le framework <span class="font-bold">Laravel</span> et tr√®s √† l'aise en JS notamment en <span class="font-bold">VueJS</span>.
          </Text>
          <Text>
            Durant mon parcours,
            j'ai eu la chance de travailler sur une vari√©t√© de projets allant des sites web de petites entreprises aux plateformes tr√®s sp√©cifiques pour des entreprises de grande √©chelle.
          </Text>
          <Text>
            Durant mon temps libre, j'aime me tenir inform√© des derni√®res tendances et techniques en mati√®re de d√©veloppement web.
          </Text>
        </div>
        <div class="flex-1 lg:flex md:gap-10">
          <div class="flex flex-col w-full lg:w-1/3 gap-4 my-4">
            <Text class="border-b dark:border-b-blue-900">
              <Icon :outline="false" name="home" class="text-blue-500 mr-2" />
              Boulogne-sur-Mer
            </Text>
            <Text class="border-b dark:border-b-blue-900">
              <Icon :outline="false" name="mail" class="text-blue-500 font-bold mr-2" />
              czn.guillaume[at]gmail[dot]com
            </Text>
            <Text class="border-b dark:border-b-blue-900">
              <Icon :outline="false" name="speedometer" class="text-blue-500 font-bold mr-2" />
              Niveau confirm√© (2 ans d'exp.)
            </Text>
            <Text>
              <Icon :outline="false" name="laptop" class="text-blue-500 font-bold mr-2" />
              T√©l√©travail total
            </Text>
          </div>
          <div class="grid grid-cols-1 md:grid-cols-2 w-full gap-4">
            <Card title="+12" description="ans de passions" />
            <Card title="+2" description="ans d'exp√©riences" />
            <Card title="+47" description="projets GitHub" />
            <Card title="+514" description="commits sur GitHub" />
          </div>
        </div>
      </div>
      <Button is-link to="cv" class="mt-10" secondary>Voir mon CV</Button>
    </div>
  </Section>

  <Section
      id="references"
      heading="Projets d'entreprises"
      title="R√©f√©rences"
      description="Projets d'entreprises pour lesquelles j'ai travaill√© durant mes exp√©riences professionnelles"
  >
    <References />
  </Section>

  <!-- Exp√©riences -->
  <Section
      id="experiences"
      heading="Formations & dipl√¥mes"
      title="Exp√©riences"
      has-background
  >
    <div class="flex flex-col justify-center py-8 lg:py-12">
      <div class="w-full mx-auto lg:max-w-4xl">
        <div class="relative">
          <div class="absolute hidden w-px h-full transform -translate-x-1/2 bg-blue-500 lg:block left-1/2"></div>
          <div class="space-y-24 lg:space-y-8">
            <ExperienceCard
                image="diatem.png"
                job="D√©veloppeur web"
                company="Diatem"
                period="Nov. 2020 - Nov. 2022"
                description="Utilisation de VueJS pour cr√©er des interfaces utilisateur interactives et r√©actives, Drupal 8 pour construire des sites web √† l'aide de son syst√®me de gestion de contenu (CMS) et Wordpress 5 pour mettre en ≈ìuvre des fonctionnalit√©s avanc√©es et personnalis√©es sur des sites web. Au cours de cette exp√©rience, j'ai acquis une solide connaissance de ces technologies et j'ai √©galement d√©velopp√© des comp√©tences en mati√®re de travail d'√©quipe et de communication."
                :technologies="['HTML5', 'CSS3', 'VueJS', 'PHP', 'Drupal 8', 'Wordpress', 'Laravel', 'jQuery', 'API']"
            />
            <ExperienceCard
                image="armatis.png"
                job="Stage en d√©veloppement web"
                company="Armatis"
                period="2020"
                description="D√©veloppement d'une application mobile qui vise √† simplifier les repas entre coll√®gues. Cette application, d√©velopp√©e en React Native, permet aux utilisateurs de s'organiser facilement pour les repas en groupe, que ce soit au bureau ou en d√©placement.
La partie API de l'application a √©t√© √©crite en PHP avec le framework Lumen, ce qui lui permet d'√™tre rapide et fiable. L'application est con√ßue pour √™tre facile √† utiliser et intuitive.
Les utilisateurs peuvent cr√©er des √©v√©nements de repas en quelques minutes seulement, et inviter leurs coll√®gues."
                :technologies="['React Native', 'HTML5', 'CSS3', 'PHP', 'Lumen', 'API']"
                right
            />
            <ExperienceCard
                image="echinghen.png"
                job="Stage en d√©veloppement web"
                company="Commune d'√âchinghen"
                period="2018"
                description="D√©veloppement d'un site web vitrine pour une mairie. Con√ßu en PHP, ce site est destin√© √† √™tre une plateforme en ligne pour la mairie, offrant aux citoyens un acc√®s facile √† des informations importantes sur les services municipaux et les √©v√©nements en cours."
                :technologies="['HTML5', 'CSS3', 'PHP']"
            />
            <ExperienceCard
                image="armatis.png"
                company="Mesconcierges"
                job="Stage en d√©veloppement web"
                period="Nov. 2020 - Nov. 2022"
                description="D√©veloppement d'un site web avec le framework Cocorico bas√© sur Symfony, qui offre aux utilisateurs une plateforme en ligne pour g√©rer les services de conciergerie dans leurs locations."
                :technologies="['HTML5', 'CSS3', 'Symfony', 'Framework Cocorico']"
                right
            />
          </div>
        </div>
      </div>
    </div>
  </Section>

  <!-- Mes comp√©tences -->
  <Section
      heading="Technologies & outils"
      id="competences"
      title="Comp√©tences"
  >
    <div class="py-10">
      <div class="grid lg:grid-cols-3 gap-5 text-center">
        <!--
        ['HTML', 'CSS', 'Boostrap', 'Tailwind', 'PHP', 'Laravel', 'Twig', 'Vanilla JS', 'VueJS', 'jQuery']
        -->
        <SkillCard
            icon="code-slash"
            color="blue"
            title="D√©veloppement"
            :skills="skillsSection.development"
        />
        <!--
        ['Figma', 'PhpStorm', 'Code']
        -->
        <SkillCard
            icon="cog"
            color="purple"
            title="Outils"
            :skills="skillsSection.tools"
        />
        <!--
        ['Workstation Linux', 'M√©thodes agile (Scrum, Kanban)', 'Versionning Git', 'T√©l√©travail']
        -->
        <SkillCard
            icon="cog"
            color="yellow"
            title="Workflow"
            :skills="skillsSection.workflow"
            last
        />
      </div>
    </div>
  </Section>

  <!-- Mes projets -->
  <Section
      id="projets"
      heading="Portfolio"
      title="Projets & r√©alisations"
      description="Exemples de mes travaux en d√©veloppement web, ainsi que des informations sur les technologies et les outils que j'ai utilis√©s pour les r√©aliser."
      has-background
  >
    <Projects :category="projectCategory"/>
  </Section>

  <!-- Contact -->
  <Section
      id="contact"
  >
    <div class="relative overflow-hidden max-w-7xl m-auto bg-blue-500 dark:bg-blue-700 dark:text-white text-blue-500 rounded-lg py-10 text-center">
      <div class="flex flex-col gap-5 px-5 lg:pr-10 z-10 relative">
        <div class="flex-1">
          <Text type="title" class="text-white">Int√©ress√© ? Contactez-moi !</Text>
        </div>
        <div class="flex-1">
          <Button is-link to="cv" secondary>Prise de contact</Button>
        </div>
      </div>
      <div class="absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2">
        <svg width="818" height="286" viewBox="0 0 818 286" fill="none" xmlns="http://www.w3.org/2000/svg" class="text-center">
          <circle cx="409" cy="409" r="408.5" stroke="url(#paint0_linear_0:1)"></circle>
          <circle cx="409" cy="409" r="349.5" stroke="url(#paint1_linear_0:1)"></circle>
          <defs>
            <linearGradient id="paint0_linear_0:1" x1="-34.5" y1="291.5" x2="851" y2="291.5" gradientUnits="userSpaceOnUse">
              <stop stop-color="white" stop-opacity="0.35"></stop>
              <stop offset="0.218415" stop-color="white" stop-opacity="0"></stop>
              <stop offset="0.728079" stop-color="white" stop-opacity="0"></stop>
              <stop offset="1" stop-color="white" stop-opacity="0.35"></stop>
            </linearGradient>
            <linearGradient id="paint1_linear_0:1" x1="29.4768" y1="308.45" x2="787.24" y2="308.45" gradientUnits="userSpaceOnUse">
              <stop stop-color="white" stop-opacity="0.35"></stop>
              <stop offset="0.218415" stop-color="white" stop-opacity="0"></stop>
              <stop offset="0.777261" stop-color="white" stop-opacity="0"></stop>
              <stop offset="1" stop-color="white" stop-opacity="0.35"></stop>
            </linearGradient>
          </defs>
        </svg>
      </div>
    </div>
  </Section>

  <!-- Scroll to top -->
  <div v-if="scrollTop > scrollTopPositionButtonAppear" class="fixed bottom-5 right-5 z-50">
    <Button secondary @click="scrollToTop"><Icon name="chevron-up" /></Button>
  </div>

  <Footer has-background />
</template>

<script>
import Text from "../components/elements/Text.vue";
import Section from "../components/layout/Section.vue";
import SkillCard from "../components/cards/SkillCard.vue";
import Button from "../components/elements/Button.vue";
import Subtitle from "../components/elements/Subtitle.vue";
import ExperienceCard from "../components/cards/ExperienceCard.vue";
import Badge from "../components/elements/Badge.vue";
import Typed from 'typed.js'
import Icon from "../components/elements/Icon.vue";
import Projects from "../components/misc/Projects.vue";
import Card from "../components/cards/Card.vue";
import References from "../components/misc/References.vue";
import Navbar from "../components/layout/Navbar.vue";
import Footer from "../components/layout/Footer.vue";
import LoginButton from "../admin/components/Login.vue";

export default {
  name: "Home",

  components: {
    LoginButton,
    References,
    Card,
    Projects,
    Icon,
    Text,
    Section,
    SkillCard,
    Button,
    Subtitle,
    ExperienceCard,
    Badge,
    Navbar,
    Footer
  },

  data() {
    return {
      url: null,
      typed: null,
      skills: [
        'Full-stack',
        'Laravel',
        'VueJS',
        'PHP',
        'JS',
      ],
      skillsSection: {
        development: [],
        tools: [],
        workflow: [],
      },
      projectCategory: 'all',
      scrollTop: 0,
      scrollTopPositionButtonAppear: 250,
      user: this.$auth0.user,
    }
  },
  mounted() {
    document.title = "Accueil - Portfolio de Guillaume Cazin"
    this.getTyped().then((typed) => {
      this.typed = typed
    })
    window.addEventListener("scroll", this.getScrollTop)
    this.fetchSkills()
  },
  methods: {
    async getTyped() {
      return new Promise((successCallback) => {
        const typed = new Typed('.element', {
          strings: this.skills,
          typeSpeed: 150,
          loop: true,
        });
        successCallback(typed)
      })
    },
    getScrollTop() {
      this.scrollTop = document.documentElement.scrollTop;
    },
    scrollToTop() {
      const url = window.location.href

      this.url = this.removeAnchor(url)

      window.scrollTo({
        top: 0,
      });
    },
    removeAnchor(url) {
      const index = url.indexOf("#")

      if (index !== -1) {
        return url.substring(0, index)
      }

      return url
    },
    async fetchSkills() {
      const developmentSkill = await this.databaseService.getCollection('skills.development')
      const toolsSkill = await this.databaseService.getCollection('skills.tools')
      const workflowSkill = await this.databaseService.getCollection('skills.workflow')

      this.skillsSection.development = developmentSkill.map((dss) => {
        return dss.title
      })
      this.skillsSection.tools = toolsSkill.map((dss) => {
        return dss.title
      })
      this.skillsSection.workflow = workflowSkill.map((dss) => {
        return dss.title
      })
    }
  }
}
</script>

<style scoped>
</style>
